## PRE REQUISITES
- aws sam
- docker 
- (gradle)

## build for regular JVM
```bash
./gradlew build
```

## build as native image
```bash
./gradlew build -Dquarkus.package.type=native -Dquarkus.native.container-build=true
```

After you run the build, there are a few extra files generated by the Quarkus lambda extension you are using. These files are in the the build directory: build/ for Gradle.

    function.zip - lambda deployment file
    sam.jvm.yaml - sam cli deployment script
    sam.native.yaml - sam cli deployment script for native


## deploy jvm version
```bash
sam deploy -t build/sam.jvm.yaml -g
```

## deploy native version
```bash
sam deploy -t build/sam.native.yaml -g
```

## testing out the API
after deployment is done you'll see this in the terminal
```bash
Outputs                                                                                                        
------------------------------------------------------------------------------------------
Key                 QuarkusrestApi                                                                                 
Description         URL for application                                                                            
Value               https://<?your_random_id?>.execute-api.us-east-1.amazonaws.com/                                        
------------------------------------------------------------------------------------------
```

make a GET request to the outputted URL with /hello added to the end

## push an update
```bash
sam deploy --template-file sam.jvm.yaml --stack-name jvm-quarkus --capabilities CAPABILITY_IAM
#or
sam deploy --template-file sam.native.yaml --stack-name quarkus-native --capabilities CAPABILITY_IAM
```